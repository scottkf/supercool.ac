// Generated by CoffeeScript 1.3.3
(function() {

  $(function() {
    var cursor_shown,
      _this = this;
    $('a[rel="popover"]').popover({
      template: '<div class="popover"><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'
    });
    $('a[rel="instruction"]').popover({
      trigger: 'manual'
    });
    $('.modal').modal({
      backdrop: false,
      show: false
    });
    cursor_shown = false;
    $('#leak-text').on('touchstart', function(e) {
      if (cursor_shown === true) {
        $($('#leak-text').attr('href')).modal('show');
      }
      cursor_shown = true;
      e.stopPropagation();
      $('#uv-light').css('display', 'block');
      $('#uv-light').css('opacity', '1');
      return $('#leak-image').css('opacity', '1');
    });
    $('#leak-text').on('click', function(e) {
      if (cursor_shown === true) {
        $($('#leak-text').attr('href')).modal('show');
      }
      cursor_shown = true;
      e.stopPropagation();
      $('body').css('cursor', 'url(/img/uv-light.png) 30 100, default');
      return $('a').css('cursor', 'url(/img/uv-light.png) 30 100, pointer');
    });
    $('body').on('click', function() {
      cursor_shown = false;
      $('body').css('cursor', '');
      $('a').css('cursor', '');
      $('#leak-image').css('opacity', '0');
      $('#uv-light').css('opacity', '0');
      return $('#uv-light').css('display', 'none');
    });
    $('#leak-button').on('hover', function() {
      if (cursor_shown) {
        if ($('#leak-image').css('opacity') === '0') {
          $('#leak-image').css('opacity', '1');
        } else {
          $('#leak-image').css('opacity', '0');
        }
      }
    });
    document.body.addEventListener('touchmove', function(event) {
      return event.preventDefault();
    });
    $('#hybrid-button').on('click', function() {
      $('#car').attr('src', 'img/hybrid-car.jpg');
      return app.viewmodels.components.components.collection().models[1].set('category', 'hybrid-compressor');
    });
    $('#standard-button').on('click', function() {
      $('#car').attr('src', 'img/standard-car.jpg');
      return app.viewmodels.components.components.collection().models[1].set('category', 'compressor');
    });
    $('#interior-button').on('click', function() {
      return $('.modal').modal('hide');
    });
    $('.modal').live('show', function() {
      if (!$(this).hasClass('in')) {
        return $('.modal').modal('hide');
      }
    });
    $('#vehicle-toggle button').on('click', function() {
      var target;
      $('.vehicle-group').hide();
      target = $(this).attr('data-target');
      return $('#' + target).show();
    });
    return $('.modal').draggable();
  });

}).call(this);
